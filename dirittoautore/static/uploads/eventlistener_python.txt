    def lp(event_filter):
         lasthash = ""
         while True:
            event_logs = event_filter.get_all_entries()
            for e in event_logs:
                tx_hash = e['transactionHash']
                receipt = var.web3.eth.get_transaction_receipt(tx_hash)
                valori = var.contrattoLicenza.events.RilascioLicenza().process_receipt(receipt)
                hash = valori[0].blockHash.hex()
                valori = valori[0].args 
                if(lasthash != hash):
                    lasthash = hash
                    print(lasthash)
                    print('ho sentito l evento')
            time.sleep(0.5)


    def evento(w3):

        event_signature_hash = var.web3.keccak(text="RilascioLicenza(bool,address,address,string,string,uint256,bytes20,uint256)").hex()
        event_filter = w3.eth.filter({'fromBlock': 'latest', 'address': var.addressLicenza, 'topics': [event_signature_hash]})
        eventlist = threading.Thread(target=DirittodecentConfig.lp, args =  (event_filter,) )
        eventlist.start()
